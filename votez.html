<head>
	<title>votez</title>
	<meta name="viewport" content="initial-scale=1.0, user-scalable=no">
    <meta charset="utf-8">
    <script src="https://maps.googleapis.com/maps/api/js?v=3.exp&sensor=true&libraries=places"></script>
 	<style>
      html, body, #map-canvas {
        height: 400px;
        margin: 0px;
        padding: 0px
      }
      img.media-object {
        max-width: 64px;
        height: auto;
      }
    </style>
</head>

<body>
	<div class="container">
        <div class="row">&nbsp;</div>
		<div class="row">
			<div class="col-lg-5 col-lg-offset-3 col-md-6 col-md-offset-3 col-sm-9">
                <div class="row">
                    <div class="pull-right">
                        {{> loginButtons}}
                    </div>
                    <br/>
                    <br/>
                </div>
                <div class="row">
                    {{> map}}
                </div>
                <div class="row">
    				{{> newPlace}}
                </div>
                <div class="row">
                    {{> header}}
                    {{> placesList}}
                </div>
			</div>
            <div class="col-lg-4 col-md-3 col-sm-2">
                {{> loggedInUsers}}
            </div>
		</div>
	</div>
</body>

<template name="loggedInUsers">
    <ul class="media-list">
        {{#each users}}
            {{> userInfo}}
        {{/each}}
    </ul>
</template>

<template name="userInfo">
    <li class="media">
        <a class="pull-left" href="#">
            <img class="media-object" src="{{showPic}}" alt="whatever">
        </a>
        <div class="media-body">
            <h4 class="media-heading">{{profile.name}}</h4>
        </div>
    </li>
</template>

<template name="map">
    <div class="panel panel-default">
        <div class="panel-heading">Locations Map  <button type="button" class="btn btn-xs clear">clear</button></div>
        <div class="panel-body" id="map-canvas"></div>
    </div>
</template>

<template name="header">
	<h2>Cast your vote&nbsp;<button type="button" class="btn btn-sm reset">Reset</button></h2>
</template>

<template name="placesList">
	<ul class="list-group">
	{{#each places}}
		{{> placeInfo}}
	{{/each}}
	</ul>
</template>

<template name="placeInfo">
	<li class="list-group-item">
		<button type="button" class="btn btn-primary btn-xs pull-right vote">Vote</button>
        <span class="pull-right">&nbsp;&nbsp;&nbsp;</span>
		<span class="badge">{{votes}}</span>
	    {{name}}
	</li>
</template>

<template name="newPlace">
	<form role="form" class="newPlaceForm">
		<div class="input-group">
			<input type="text" class="form-control" id="name" />
			<span class="input-group-btn">
				<button class="btn btn-default" type="submit">Add</button>
			</span>
		</div><!-- /input-group -->
	</form>
</template>
